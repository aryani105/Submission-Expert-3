{"version":3,"file":"app~e4317507.bundle.js","mappings":";+JAYE,QAPa,CACX,IAAKA,EAAAA,EACL,QAASA,EAAAA,EACT,YAAaC,EAAAA,EACb,cAAeC,EAAAA,mCCmBjB,QA5BgB,CACdC,2BADc,WAEZ,IAAMC,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cACpCC,EAAaC,KAAKC,aAAaR,GACrC,OAAOO,KAAKE,aAAaH,EAC1B,EAEDI,8BAPc,WAQZ,IAAMV,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cAC1C,OAAOE,KAAKC,aAAaR,EAC1B,EAEDQ,aAZc,SAYDR,GACX,IAAMW,EAAaX,EAAIY,MAAM,KAC7B,MAAO,CACLC,SAAUF,EAAW,IAAM,KAC3BG,GAAIH,EAAW,IAAM,KACrBI,KAAMJ,EAAW,IAAM,KAE1B,EAEDF,aArBc,SAqBDH,GACX,OAAQA,EAAWO,SAAX,WAA0BP,EAAWO,UAAa,MACvDP,EAAWQ,GAAK,OAAS,KACzBR,EAAWS,KAAX,WAAsBT,EAAWS,MAAS,GAC9C,mSCxBL,smNA8CA,QA7C4B,CAClBC,KADkB,YAC6C,6HAAxDC,EAAwD,EAAxDA,oBAAqBC,EAAmC,EAAnCA,oBAAqBC,EAAc,EAAdA,WACnD,EAAKC,qBAAuBH,EAC5B,EAAKI,YAAcF,EACnB,EAAKG,qBAAuBJ,EAHqC,SAK3D,EAAKK,gBALsD,4CAMpE,EAEKA,cATkB,WASF,yHACVT,EAAO,EAAKO,YAAZP,GADU,SAGR,EAAKU,mBAAmBV,GAHhB,kCAId,EAAKW,eAJS,sBAMd,EAAKC,cANS,4CAQrB,EAEKF,mBAnBkB,SAmBCV,GAAI,kIACA,EAAKQ,qBAAqBK,SAASb,GADnC,cACnBK,EADmB,2BAEhBA,GAFgB,4CAG5B,EAEDO,YAxBwB,WAwBV,WACVnB,KAAKa,qBAAqBQ,WAAYC,EAAAA,EAAAA,MAEnBC,SAASC,cAAc,eAC/BC,iBAAiB,QAA5B,YAAqC,8FAC3B,EAAKV,qBAAqBW,SAAS,EAAKZ,aADb,OAEjC,EAAKE,gBAF4B,2CAIxC,EAEDE,aAlCwB,WAkCT,WACXlB,KAAKa,qBAAqBQ,WAAYM,EAAAA,EAAAA,MAEnBJ,SAASC,cAAc,eAC/BC,iBAAiB,QAA5B,YAAqC,8FAC3B,EAAKV,qBAAqBa,YAAY,EAAKd,YAAYP,IAD5B,OAEjC,EAAKS,gBAF4B,2CAIxC,mSC3CL,m6MAiBA,QAhBgB,gCAAG,uFACX,kBAAmBa,UADR,uBAEfC,QAAQC,IAAI,+CAFG,iCAMXC,EAAK,IAAIC,EAAAA,GAAsB,kBANpB,kBASTD,EAAGE,WATM,OAUfJ,QAAQC,IAAI,6BAVG,kDAYfD,QAAQC,IAAI,oCAAZ,MAZe,wOAAH","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport ListRestaurants from '../views/pages/list';\nimport FavoriteRestaurants from '../views/pages/favorite';\nimport DetailRestaurants from '../views/pages/detail';\n\nconst routes = {\n    '/': ListRestaurants, // default page\n    '/list': ListRestaurants,\n    '/favorite': FavoriteRestaurants,\n    '/detail/:id': DetailRestaurants,\n\n};\n  export default routes;","const UrlParser = {\n    parseActiveUrlWithCombiner() {\n      const url = window.location.hash.slice(1).toLowerCase();\n      const splitedUrl = this._urlSplitter(url);\n      return this._urlCombiner(splitedUrl);\n    },\n\n    parseActiveUrlWithoutCombiner() {\n      const url = window.location.hash.slice(1).toLowerCase();\n      return this._urlSplitter(url);\n    },\n\n    _urlSplitter(url) {\n      const urlsSplits = url.split('/');\n      return {\n        resource: urlsSplits[1] || null,\n        id: urlsSplits[2] || null,\n        verb: urlsSplits[3] || null,\n      };\n    },\n\n    _urlCombiner(splitedUrl) {\n      return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n      + (splitedUrl.id ? '/:id' : '')\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\n    },\n  };\n\n  export default UrlParser;","import { createLikeButtonTemplate, createUnlikeMovieButtonTemplate } from '../views/templates/template-creator';\n\nconst LikeButtonPresenter = {\n    async init({ likeButtonContainer, favoriteRestaurants, restaurant }) {\n        this._likeButtonContainer = likeButtonContainer;\n        this._restaurant = restaurant;\n        this._favoriteRestaurants = favoriteRestaurants;\n\n        await this._renderButton();\n    },\n\n    async _renderButton() {\n        const { id } = this._restaurant;\n\n        if (await this._isRestaurantExist(id)) {\n            this._renderLiked();\n        } else {\n            this._renderLike();\n        }\n    },\n\n    async _isRestaurantExist(id) {\n        const restaurant = await this._favoriteRestaurants.getResto(id);\n        return !!restaurant;\n    },\n\n    _renderLike() {\n        this._likeButtonContainer.innerHTML = createLikeButtonTemplate();\n\n        const likeButton = document.querySelector('#likeButton');\n        likeButton.addEventListener('click', async() => {\n            await this._favoriteRestaurants.putResto(this._restaurant);\n            this._renderButton();\n        });\n    },\n\n    _renderLiked() {\n        this._likeButtonContainer.innerHTML = createUnlikeMovieButtonTemplate();\n\n        const likeButton = document.querySelector('#likeButton');\n        likeButton.addEventListener('click', async() => {\n            await this._favoriteRestaurants.deleteResto(this._restaurant.id);\n            this._renderButton();\n        });\n    },\n};\n\nexport default LikeButtonPresenter;","import * as WorkboxWindow from 'workbox-window';\n\nconst swRegister = async () => {\n  if (!('serviceWorker' in navigator)) {\n    console.log('Service Worker not supported in the browser');\n    return;\n  }\n\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\n\n  try {\n    await wb.register();\n    console.log('Service worker registered');\n  } catch (error) {\n    console.log('Failed to register service worker', error);\n  }\n};\n\nexport default swRegister;"],"names":["ListRestaurants","FavoriteRestaurants","DetailRestaurants","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","init","likeButtonContainer","favoriteRestaurants","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurants","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getResto","innerHTML","createLikeButtonTemplate","document","querySelector","addEventListener","putResto","createUnlikeMovieButtonTemplate","deleteResto","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}